body {
    margin: 0;
    padding: 0;
    background-color: #1a1a1a; /* Dark background for the 'desktop' area */
    color: #e0e0e0; /* Default light text color */
    font-family: sans-serif; /* Basic modern font */
    display: flex; /* Enable flexbox */
    align-items: center; /* Center vertically */
    justify-content: center; /* Center horizontally */
    min-height: 100vh; /* Ensure body takes full viewport height */
}

/* Mobile Width Container Simulation on Desktop */
#mobile-container {
    width: 414px; /* Typical mobile width (e.g., iPhone 6/7/8 Plus) */
    max-width: calc(100% - 40px); /* Ensure it doesn't exceed viewport width with margins */
    height: calc(100vh - 40px); /* Fill viewport height minus top/bottom margins */
    max-height: 800px; /* Add a max-height for typical phone aspect ratio */
    margin: 20px auto; /* Center horizontally, add top/bottom margin */
    position: relative; /* Crucial for positioning absolute children */
    overflow: hidden; /* Hide anything that might spill out */
    border: 1px solid #444; /* Darker border */
    box-shadow: 0 4px 12px rgba(0,0,0,0.4); /* Darker shadow */
    background-color: #2c2c2c; /* Dark background for the 'app' area */
    display: flex; /* Use flex to help with potential future layout adjustments */
    flex-direction: column;
}


#loading-screen {
    /* This should already cover the full viewport, not just the mobile container */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #212121; /* Dark loading background */
    color: #e0e0e0; /* Light text/elements */
    display: flex; /* Use flexbox for centering */
    flex-direction: column; /* Stack image and bar vertically */
    justify-content: center; /* Keep vertical centering for the image */
    align-items: center; /* Keep horizontal centering for the image */
    z-index: 9999; /* Ensure it's on top of everything */
    /* position: fixed; already establishes a positioning context */
}

#loading-screen img {
    max-width: 90%; /* Prevent image from being too large */
    max-height: 80%; /* Keep image size constraint */
    /* margin-bottom removed */
}

#loading-bar-container {
    position: absolute; /* Position relative to loading-screen */
    bottom: 15%; /* Position near the bottom */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Fine-tune horizontal centering */
    width: 40%; /* Reduced width of the loading bar container */
    max-width: 300px; /* Adjusted max-width accordingly */
    height: 10px;
    background-color: #424242; /* Darker bar background */
    border-radius: 5px;
    overflow: hidden;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.4); /* Darker inset shadow */
}

#loading-bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(to right, #81c784, #4caf50); /* Slightly brighter green gradient */
    border-radius: 5px; /* Rounded corners */
    transition: width 0.5s ease-out; /* Smooth transition for width changes */
}

#map {
    /* Map should fill the mobile container */
    height: 100%;
    width: 100%;
    /* Map takes remaining space if needed, but height/width 100% is fine */
    flex-grow: 1;
}

/* Modernized Dark Mode Dashboard & Protection Book Styles */
#dashboard, #protection-book {
    position: absolute;
    /* Mafia Style: Darker, richer background, subtle texture/gradient if possible */
    background: linear-gradient(rgba(30, 30, 30, 0.95), rgba(15, 15, 15, 0.95)); /* Dark gradient */
    color: #e0e0e0; /* Light text */
    padding: 15px; /* Slightly more padding */
    border-radius: 4px; /* Sharper corners */
    border: 1px solid #8B4513; /* SaddleBrown border - classic feel */
    z-index: 1000;
    box-shadow: 0 5px 15px rgba(0,0,0,0.6); /* More pronounced shadow */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Keep modern sans-serif for body */
    transition: opacity 0.3s ease, transform 0.3s ease;
}

#dashboard {
    top: 10px;
    right: 10px;
    min-width: 200px; /* Slightly wider */
}

#protection-book {
    /* Styling to match other modals */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #2c2c2c; /* Match modal background */
    padding: 20px; /* Increase padding */
    border-radius: 10px; /* Match modal radius */
    border: 2px solid #555; /* Add border like modals */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5); /* Stronger shadow like modals */
    width: 95%; /* Force width to be relative */
    max-width: 95%; /* Use percentage for relative width */
    max-height: 50vh; /* Increased max-height */
    overflow-y: auto;
    z-index: 1001; /* Ensure it's above dashboard/map controls if needed */
}

/* Header Styles */
#dashboard h2, #protection-book h3 {
    margin-top: 0;
    font-size: 1.2em; /* Slightly larger */
    margin-bottom: 15px; /* More space below */
    padding-bottom: 10px;
    border-bottom: 1px solid #8B4513; /* Match border color */
    color: #E0CDA1; /* Light gold/parchment color */
    font-family: 'Georgia', serif; /* Classic serif font for header */
    text-align: center; /* Center header */
    letter-spacing: 1px; /* Add some letter spacing */
}

/* Section Styles */
.dashboard-section {
    margin-bottom: 10px; /* More space between sections */
    display: flex; /* Use flexbox for alignment */
    justify-content: space-between; /* Space out label and value */
    align-items: center;
}

.dashboard-section .label {
    font-weight: bold;
    margin-right: 10px;
    color: #a0a0a0; /* Slightly muted grey label */
    font-size: 0.9em;
}

.dashboard-section .value {
    text-align: right;
    color: #f0e68c; /* Khaki/light gold value text */
    font-weight: bold; /* Make values stand out */
    font-size: 0.95em;
}

/* --- HP Bar Styles (General) --- */
.hp-bar-container {
    width: 100px; /* Adjust width as needed for dashboard */
    height: 12px; /* Slightly smaller height */
    background-color: #444;
    border-radius: 6px;
    overflow: hidden;
    margin: 0 5px; /* Add some horizontal margin */
    border: 1px solid #666;
    display: inline-block; /* Allow it to sit inline with text */
    vertical-align: middle; /* Align vertically with text */
}

.hp-bar {
    height: 100%;
    width: 100%; /* Start full */
    /* Mafia Style: Deep red gradient for HP */
    background: linear-gradient(to right, #8B0000, #B22222); /* DarkRed to Firebrick */
    border-radius: 6px; /* Match container */
    transition: width 0.3s ease-in-out;
}

/* Adjust dashboard section flex alignment for HP bar */
#dashboard .dashboard-section:has(.hp-bar-container) {
    justify-content: flex-start; /* Align items to the start */
    gap: 5px; /* Add small gap between elements */
}

#dashboard .dashboard-section:has(.hp-bar-container) .value {
    margin-left: auto; /* Push the numeric value to the right */
}


/* Inventory Section Styles */
.inventory-section {
    align-items: flex-start; /* Align label top */
    border-top: 1px solid #555; /* Separator */
    padding-top: 10px;
    margin-top: 10px;
}
.inventory-section .label {
    margin-bottom: 5px; /* Space below label */
}
#inventory-list {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%; /* Take full width */
    font-size: 0.9em;
    color: #ccc; /* Lighter text for items */
}
#inventory-list li {
    margin-bottom: 4px;
    cursor: pointer; /* Indicate items might be clickable */
    padding: 2px 0;
}
#inventory-list li:hover {
    color: #fff; /* Highlight on hover */
}

/* --- Base Button Style --- */
.btn {
    display: inline-block; /* Changed from block for flexibility */
    padding: 8px 15px; /* Slightly more padding */
    border: 1px solid #555; /* Subtle border */
    border-radius: 4px;
    background-color: #444; /* Default dark grey */
    color: #e0e0e0; /* Light text */
    font-family: sans-serif; /* Consistent font */
    font-size: 0.9em;
    font-weight: 500; /* Medium weight */
    text-align: center;
    cursor: pointer;
    text-decoration: none;
    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
    width: auto; /* Allow natural width */
    margin: 2px; /* Small margin for spacing */
}

.btn:hover {
    border-color: #777;
    filter: brightness(1.15); /* General hover brightness */
}

.btn:active {
    transform: scale(0.98); /* Slight press effect */
    filter: brightness(0.9);
}

/* Color Modifiers */
.btn-green { background-color: #4caf50; border-color: #388e3c; }
.btn-green:hover { background-color: #5cb860; border-color: #4caf50; }

.btn-red { background-color: #c62828; border-color: #b71c1c; }
.btn-red:hover { background-color: #d32f2f; border-color: #c62828; }

.btn-blue { background-color: #1e88e5; border-color: #1565c0; }
.btn-blue:hover { background-color: #2196f3; border-color: #1e88e5; }

.btn-purple { background-color: #6a1b9a; border-color: #4a148c; }
.btn-purple:hover { background-color: #7b1fa2; border-color: #6a1b9a; }

.btn-orange { background-color: #ff9800; border-color: #f57c00; color: #212121; } /* Darker text for orange */
.btn-orange:hover { background-color: #ffa726; border-color: #ff9800; }

.btn-brown { background-color: #5d4037; border-color: #4e342e; }
.btn-brown:hover { background-color: #6d4c41; border-color: #5d4037; }

.btn-grey { background-color: #616161; border-color: #424242; } /* Grey button */
.btn-grey:hover { background-color: #757575; border-color: #616161; }


/* --- Applying Base Styles --- */

/* Action Button Styles (Dashboard) */
.dashboard-actions {
    margin-top: 15px; /* More space */
    padding-top: 15px;
    border-top: 1px solid #8B4513; /* Match border color */
}
.dashboard-actions .btn { /* Target buttons within actions */
    width: 100%; /* Make dashboard buttons full width */
    margin-top: 5px;
    margin-left: 0;
    margin-right: 0;
}
.dashboard-actions.button-row .btn {
    width: auto; /* Override full width if in button-row */
    flex: 1; /* Allow buttons to share space */
}
.dashboard-actions.button-row .btn + .btn {
     margin-left: 10px; /* Add space between buttons in a row */
}


/* Remove old specific styles, rely on .btn and modifiers */
#leave-organization-button { /* Keep ID for JS hook, style via class */ }
#save-user-info-btn { /* Keep ID for JS hook, style via class */ }
#open-equipment-btn { /* Keep ID for JS hook, style via class */ }
#open-inventory-btn { /* Keep ID for JS hook, style via class */ }


/* Styling for buttons inside popups */
.leaflet-popup-content .btn { /* Apply base style to popup buttons */
    margin-top: 8px;
    padding: 6px 12px; /* Slightly smaller padding for popups */
    font-size: 0.9em;
    width: auto; /* Ensure they aren't full width */
}
/* Remove old specific popup button styles */
.leaflet-popup-content .join-button { }
.leaflet-popup-content .collect-button { }
.leaflet-popup-content .activate-protection-button { } /* Style via .btn and color modifier */
.leaflet-popup-content .interact-enemy-button { }


/* Dark mode for popups */
.leaflet-popup-content-wrapper {
    background-color: #3a3a3a; /* Dark background for popup */
    color: #e0e0e0; /* Light text */
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.4);
}
.leaflet-popup-tip {
    background-color: #3a3a3a;
}
.leaflet-popup-close-button {
    color: white;
    border: none;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.9em;
}

.leaflet-popup-content .join-button:hover {
    color: #bbb !important; /* Lighter close button */
}
.leaflet-popup-close-button:hover {
    color: #fff !important;
}


/* Protection Book List Styles */
#controlled-businesses-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#controlled-businesses-list li {
    padding: 8px 4px;
    border-bottom: 1px solid #444; /* Darker separator */
    font-size: 0.9em;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#controlled-businesses-list li:last-child {
    border-bottom: none;
}

#controlled-businesses-list .business-name {
    font-weight: 500; /* Medium weight */
    color: #e0e0e0; /* Light text */
}

#controlled-businesses-list .business-profit {
    color: #81c784; /* Lighter green for profit */
    font-weight: bold;
    margin-left: 10px; /* Add space */
}

/* Remove specific styling for controlled items, rely on profit color */


/* General Minimize/Show Button Styles */
.minimize-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #555; /* Darker background */
    border: 1px solid #666;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    line-height: 1;
    padding: 3px 6px;
    font-weight: bold;
    color: #ccc; /* Light text */
    z-index: 1001;
}
.minimize-btn:hover {
    background: #666;
    color: #fff;
}

/* Removed .show-ui-btn styles as the buttons are now part of other elements or handled differently */

/* Specific position for the dashboard show button */
#show-dashboard-btn {
    position: absolute; /* Keep this one positioned */
    top: 10px;
    right: 10px;
    z-index: 1001;
    padding: 6px 10px;
    font-size: 1.1em;
    background-color: rgba(70, 70, 70, 0.9);
    color: #e0e0e0;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    display: none; /* Still hidden by default */
    line-height: 1;
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
}
#show-dashboard-btn:hover {
    background-color: rgba(90, 90, 90, 1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.4);
}

/* #show-book-btn is now styled by .action-btn */


/* State when UI elements are minimized */
#dashboard.minimized,
#protection-book.minimized {
    /* display: none; is handled by JS now */
    opacity: 0; /* Fade out */
    transform: scale(0.95); /* Optional: slight scale down */
    pointer-events: none; /* Prevent interaction when hidden */
}

/* --- Stats Modal Specific Styles --- */
#stats-modal {
    /* Inherits general modal styles */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 10001;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#stats-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

#stats-modal .modal-content {
    /* Apply Mafia Style */
    background: linear-gradient(rgba(30, 30, 30, 0.95), rgba(15, 15, 15, 0.95)); /* Dark gradient */
    padding: 25px; /* More padding */
    border-radius: 4px; /* Sharper corners */
    border: 1px solid #8B4513; /* SaddleBrown border */
    box-shadow: 0 5px 15px rgba(0,0,0,0.6); /* More pronounced shadow */
    color: #e0e0e0;
    width: 85%; /* Wider */
    max-width: 550px; /* Slightly wider max */
    max-height: 85vh;
    position: relative;
    display: flex;
    flex-direction: column;
    margin: auto; /* Explicitly center the content box */
}

#stats-modal h2 {
    /* Apply Mafia Style Header */
    margin-top: 0;
    text-align: center;
    color: #E0CDA1; /* Light gold/parchment color */
    border-bottom: 1px solid #8B4513; /* Match border color */
    padding-bottom: 10px;
    margin-bottom: 20px;
    flex-shrink: 0;
    font-family: 'Georgia', serif; /* Classic serif font */
    font-size: 1.3em; /* Slightly larger for modal title */
    letter-spacing: 1px;
}

#stats-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #E0CDA1; /* Match header color */
    cursor: pointer;
    transition: color 0.2s ease;
}

#stats-modal .close-btn:hover {
    color: #fff; /* White on hover */
}

.stats-modal-content {
    overflow-y: auto;
    flex-grow: 1;
    display: grid; /* Use grid for layout */
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
    gap: 20px; /* Space between sections */
}

.stats-section {
    background-color: rgba(40, 40, 40, 0.7); /* Darker section background */
    padding: 15px;
    border-radius: 3px; /* Sharper corners */
    border: 1px solid #5a4a3a; /* Dark brown border */
}

.stats-section h4 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #b0a080; /* Muted gold/brown */
    border-bottom: 1px solid #5a4a3a; /* Match border */
    padding-bottom: 5px;
    font-size: 1.1em;
    font-family: 'Georgia', serif;
}

.stats-section p {
    margin: 8px 0; /* Space between stat lines */
    font-size: 0.95em;
    display: flex;
    justify-content: space-between; /* Align label and value */
}

.stats-section p strong {
    color: #a0a0a0; /* Muted grey label */
    margin-right: 10px;
}

.stats-section p span {
    font-weight: bold;
    color: #f0e68c; /* Khaki/light gold value */
}

/* --- Equipment Modal Styles --- */
#equipment-modal {
    position: fixed; /* Fixed position to overlay everything */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
    z-index: 10001; /* Above custom alert */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#equipment-modal.modal-hidden {
    opacity: 0;
    pointer-events: none; /* Prevent interaction when hidden */
}

#equipment-modal .modal-content {
    /* Apply Mafia Style */
    background: linear-gradient(rgba(30, 30, 30, 0.95), rgba(15, 15, 15, 0.95)); /* Dark gradient */
    padding: 20px;
    border-radius: 4px; /* Sharper corners */
    border: 1px solid #8B4513; /* SaddleBrown border */
    box-shadow: 0 5px 15px rgba(0,0,0,0.6); /* More pronounced shadow */
    color: #e0e0e0;
    width: 80%;
    max-width: 600px; /* Max width for the modal */
    position: relative; /* For positioning the close button */
    font-family: 'Georgia', serif; /* Optional: MMORPG feel font */
}

#equipment-modal h2 {
    /* Apply Mafia Style Header */
    margin-top: 0;
    text-align: center;
    color: #E0CDA1; /* Light gold/parchment color */
    border-bottom: 1px solid #8B4513; /* Match border color */
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-family: 'Georgia', serif; /* Classic serif font */
    font-size: 1.3em; /* Slightly larger for modal title */
    letter-spacing: 1px;
}

#equipment-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #E0CDA1; /* Match header color */
    cursor: pointer;
    transition: color 0.2s ease;
}

#equipment-modal .close-btn:hover {
    color: #fff; /* White on hover */
}

/* .equipment-layout rule removed as slots are the only child now */

/* .character-preview rule removed */

.equipment-slots {
    /* flex-basis removed, takes full width */
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 columns */
    gap: 15px; /* Space between slots */
}

/* Game Time Display */
#game-time {
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.9em;
    font-family: monospace; /* Monospaced font for time */
    z-index: 1001; /* Above map, below modals */
    border: 1px solid #444;
}


/* Map Control Buttons */
.map-controls {
    position: absolute;
    top: 45px; /* Lowered to make space for game time */
    left: 10px; /* Position near left */
    z-index: 1000; /* Above map tiles, below popups/UI panels if needed */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Pushes label and item apart */
    align-items: center;
}

.equipment-slot .slot-label {
    font-size: 0.8em;
    color: #a0a0a0; /* Muted grey label */
    margin-bottom: 5px;
}

.equipment-slot .slot-item {
    width: 50px; /* Size of the item box */
    height: 50px;
    background-color: #101010; /* Even darker background for empty item */
    border: 1px dashed #5a4a3a; /* Dashed brown border */
    border-radius: 3px;
    display: flex; /* For potential item icon centering */
    justify-content: center;
    align-items: center;
    color: #666; /* Text for empty slot */
    font-size: 0.7em;
    cursor: pointer; /* Indicate slots are interactive */
}

.equipment-slot .slot-item:hover {
    border-color: #8B4513; /* SaddleBrown on hover */
}

/* Style for the equipment button on the dashboard */
#open-equipment-btn {
    padding: 8px 12px;
    background-color: #1e88e5; /* Blue */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    display: block;
    width: 100%;
    text-align: center;
    transition: background-color 0.2s ease;
    margin-top: 5px; /* Add some space above */
    flex: 1; /* Allow buttons to share space */
    margin-left: 5px; /* Space between buttons */
}
#open-equipment-btn:first-child,
#open-inventory-btn:first-child {
    margin-left: 0; /* No left margin for the first button */
}


#open-equipment-btn:hover {
    background-color: #1565c0; /* Darker Blue */
}

/* Style for the inventory button */
#open-inventory-btn {
    padding: 8px 12px;
    background-color: #6a1b9a; /* Purple */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    display: block;
    width: 100%;
    text-align: center;
    transition: background-color 0.2s ease;
    margin-top: 5px; /* Add some space above */
    flex: 1; /* Allow buttons to share space */
    margin-left: 5px; /* Space between buttons */
}

#open-inventory-btn:hover {
    background-color: #4a148c; /* Darker Purple */
}

/* Style for the row containing buttons */
.button-row {
    display: flex;
    gap: 10px; /* Space between buttons in the row */
    width: 100%;
}
.button-row button {
    margin-top: 0; /* Remove top margin if buttons are in a row */
}


/* --- Inventory Modal Styles --- */
#inventory-modal {
    position: fixed; /* Fixed position to overlay everything */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
    z-index: 10001; /* Same level as equipment modal */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#inventory-modal.modal-hidden {
    opacity: 0;
    pointer-events: none; /* Prevent interaction when hidden */
}

#inventory-modal .modal-content {
    /* Apply Mafia Style - Keep ornate border from previous change */
    background: linear-gradient(rgba(30, 30, 30, 0.95), rgba(15, 15, 15, 0.95)); /* Dark gradient */
    /* padding: 10px; /* Keep reduced padding from grid style */
    border-radius: 4px; /* Sharper corners */
    border: 3px solid #4a3c2a; /* Keep Dark brownish border */
    box-shadow: 0 5px 15px rgba(0,0,0,0.6), inset 0 0 10px rgba(0,0,0,0.5); /* More pronounced shadow + inner */
    color: #e0e0e0;
    width: 70%; /* Slightly smaller width? */
    max-width: 500px; /* Max width for the modal */
    max-height: 80vh; /* Limit height */
    position: relative; /* For positioning the close button */
    display: flex;
    flex-direction: column;
}

/* Inventory title already has ornate style, keep it */
/* #inventory-modal h2 { ... } */


/* Inventory close button already has ornate style, keep it */
/* #inventory-modal .close-btn { ... } */

#inventory-modal .close-btn:hover {
    color: #fff; /* White on hover */
}

.inventory-modal-content {
    overflow-y: auto; /* Allow scrolling for the list */
    flex-grow: 1; /* Allow content to take remaining space */
}

/* Adjust inventory list style for modal context */
#inventory-modal #inventory-list {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    font-size: 1em; /* Slightly larger font in modal */
    color: #ccc;
}

#inventory-modal #inventory-list li {
    margin-bottom: 8px; /* More spacing */
    cursor: pointer;
    padding: 8px 10px; /* More padding */
    border-bottom: 1px solid #444; /* Separator */
    transition: background-color 0.2s ease;
}
#inventory-modal #inventory-list li:last-child {
    border-bottom: none;
}

#inventory-modal #inventory-list li:hover {
    background-color: #3a3a3a; /* Highlight background on hover */
    color: #fff;
}
#inventory-modal #inventory-list li:empty { /* Style for the "(Empty)" placeholder */
    font-style: italic;
    color: #777;
    text-align: center;
    padding: 20px;
    border-bottom: none;
    cursor: default;
}
#inventory-modal #inventory-list li:empty:hover {
    background-color: transparent;
    color: #777;
}


/* Display the corresponding show button when element is minimized */
/* JS handles display: block/none now */
/* #dashboard.minimized + #show-dashboard-btn { display: block; } */
/* #protection-book.minimized + #show-book-btn { display: block; } */


/* Lighten dark icons for dark theme */
.map-icon-darktheme {
    filter: invert(85%) brightness(1.1); /* Invert to light grey and slightly brighten */
}

/* Style for business markers protected by the player's organization */
.leaflet-marker-icon.protected-by-player-org {
    /* Attempt to make the icon blue using filters. Adjust values as needed. */
    /* This assumes the base icon is somewhat grayscale or can be colorized */
    filter: invert(85%) brightness(1.1) sepia(100%) hue-rotate(180deg) saturate(300%);
    /* Example alternative if the above is too strong/weak:
    filter: brightness(0.9) sepia(1) hue-rotate(170deg) saturate(5);
    */
}


/* Player Sprite Animation */
.player-marker .player-sprite { /* Target the inner div */
    width: 64px;  /* Frame width */
    height: 64px; /* Frame height */
    background-image: url('img/walk.png'); /* Updated path */
    background-repeat: no-repeat;
    /* Animation properties: name duration steps timing iteration */
    animation: walk-cycle 1s steps(9) infinite; /* steps(9) for 9 frames */
}

/* Keyframes for horizontal movement across 9 frames */
@keyframes walk-cycle {
   from { background-position-x: 0px; }
     to { background-position-x: -576px; } /* 9 frames * 64px width */
}

/* Classes to select the row (direction) */
.player-sprite.walk-up { background-position-y: 0px; } /* 1st row */
.player-sprite.walk-left { background-position-y: -64px; } /* 2nd row */
.player-sprite.walk-down { background-position-y: -128px; } /* 3rd row (Default) */
.player-sprite.walk-right { background-position-y: -192px; } /* 4th row */


/* Map Control Buttons */
.map-controls {
    position: absolute;
    top: 45px; /* Lowered to make space for game time */
    left: 10px; /* Position near left */
    z-index: 1000; /* Above map tiles, below popups/UI panels if needed */
    display: flex;
    flex-direction: column; /* Stack buttons vertically */
}

.map-controls button {
    background-color: rgba(70, 70, 70, 0.85); /* Dark background */
    color: #e0e0e0; /* Light icon/text */
    border: 1px solid #555;
    border-radius: 4px;
    padding: 8px 10px;
    margin-top: 5px; /* Space between buttons */
    cursor: pointer;
    font-size: 1.2em; /* Larger symbols */
    line-height: 1;
    box-shadow: 0 1px 4px rgba(0,0,0,0.3);
    transition: background-color 0.2s ease;
}

.map-controls button:hover {
    background-color: rgba(90, 90, 90, 0.95);
}

#center-map-btn {
    font-size: 1.4em; /* Make target icon slightly larger */
}

/* --- Enemy Styles --- */

/* Enemy marker container (no background needed) */
.enemy-marker {
    background: none;
    border: none;
}

/* Enemy sprite (inner div) */
.enemy-marker .enemy-sprite {
    width: 64px;  /* Frame width */
    height: 64px; /* Frame height */
    background-image: url('img/walk.png'); /* Use the same spritesheet */
    background-repeat: no-repeat;
    /* Animation properties: name duration steps timing iteration */
    animation: walk-cycle 1s steps(9) infinite; /* Use same animation */
    /* Optional: Apply a filter to differentiate enemies, e.g., slightly red tint */
    /* filter: sepia(0.5) hue-rotate(-20deg) saturate(2); */
}

/* Direction classes for enemy sprite (same as player) */
.enemy-sprite.walk-up { background-position-y: 0px; }
.enemy-sprite.walk-left { background-position-y: -64px; }
.enemy-sprite.walk-down { background-position-y: -128px; }
.enemy-sprite.walk-right { background-position-y: -192px; }


/* Style for the interact button inside the enemy popup */
.leaflet-popup-content .interact-enemy-button {
    background-color: #ff9800; /* Orange for interaction */
    color: white;
    /* Inherits general popup button styles */
}

.leaflet-popup-content .interact-enemy-button:hover {
    background-color: #f57c00; /* Darker orange */
}

/* --- Custom Alert Styles --- */
#custom-alert {
    position: fixed; /* Position relative to the viewport */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Center the alert */
    background-color: rgba(30, 30, 30, 0.95); /* Very dark, slightly transparent */
    color: #e0e0e0; /* Light text */
    padding: 25px;
    border: 2px solid #8B4513; /* SaddleBrown border - classic mafia feel */
    border-radius: 5px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.7); /* Stronger shadow */
    z-index: 10003; /* Increased z-index to be above modals */
    min-width: 250px;
    max-width: 80%;
    text-align: center;
    font-family: 'Georgia', serif; /* A more classic/serif font */
    transition: opacity 0.3s ease, transform 0.3s ease;
}

#custom-alert p {
    margin: 0 0 20px 0; /* Space below message */
    font-size: 1.1em;
    line-height: 1.4;
}

#custom-alert button {
    padding: 10px 20px;
    background-color: #5a3e36; /* Dark brown button */
    color: #fff;
    border: 1px solid #3e2723; /* Darker border */
    border-radius: 3px;
    cursor: pointer;
    font-size: 1em;
    font-weight: bold;
    transition: background-color 0.2s ease;
}

#custom-alert button:hover {
    background-color: #3e2723; /* Darker brown on hover */
}

/* Class to hide the alert */
.custom-alert-hidden {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.9); /* Scale down when hidden */
    pointer-events: none; /* Prevent interaction when hidden */
}

/* Fade out effect for removed markers */
.marker-fade-out {
    transition: opacity 0.5s ease-out !important; /* Ensure transition applies */
    opacity: 0 !important; /* Force opacity to 0 */
}

/* --- Battle Modal Styles --- */
#battle-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Darker overlay */
    z-index: 10002; /* Above other modals */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.4s ease;
}

#battle-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

.battle-modal-content {
    background-color: #212121; /* Very dark background */
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #777; /* Grey border */
    box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6);
    color: #e0e0e0;
    width: 90%;
    max-width: 700px; /* Wider modal for battle */
    max-height: 90vh;
    display: flex;
    flex-direction: column;
}

.battle-modal-content h2 {
    margin-top: 0;
    text-align: center;
    color: #f44336; /* Red title */
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-family: 'Georgia', serif;
    font-weight: bold;
    letter-spacing: 1px;
}

.battle-interface {
    display: flex;
    justify-content: space-around;
    align-items: flex-start; /* Align tops */
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px dashed #555;
}

.battle-participant {
    flex-basis: 40%; /* Adjust as needed */
    text-align: center;
}

.battle-participant h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #ccc;
}

.battle-participant p {
    margin: 5px 0;
    font-size: 0.9em;
}

.battle-vs {
    font-size: 1.5em;
    font-weight: bold;
    color: #f44336; /* Red VS */
    align-self: center; /* Center vertically */
    padding: 0 15px;
}

.health-bar-container {
    width: 100%;
    height: 15px;
    background-color: #444;
    border-radius: 7px;
    overflow: hidden;
    margin-bottom: 5px;
    border: 1px solid #666;
}

.health-bar {
    height: 100%;
    width: 100%; /* Start full */
    background: linear-gradient(to right, #4caf50, #81c784); /* Green gradient */
    border-radius: 7px;
    transition: width 0.3s ease-in-out;
}

/* Adjust enemy health bar color */
.enemy-area .health-bar {
     background: linear-gradient(to right, #c62828, #ef5350); /* Red gradient */
}

.battle-actions {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.battle-actions .btn {
    min-width: 100px; /* Ensure buttons have some width */
}

.battle-log {
    background-color: #1a1a1a;
    border: 1px solid #444;
    border-radius: 5px;
    padding: 10px;
    height: 120px; /* Fixed height */
    overflow-y: auto; /* Enable scrolling */
    margin-bottom: 15px;
    font-size: 0.85em;
    line-height: 1.4;
    color: #bbb;
}

.battle-log p:first-child { /* Style the "Battle Log:" title */
    margin-top: 0;
    margin-bottom: 8px;
    font-weight: bold;
    color: #ddd;
    border-bottom: 1px solid #333;
    padding-bottom: 4px;
}

.battle-log .log-entry {
    margin-bottom: 4px;
    padding-bottom: 4px;
    border-bottom: 1px dotted #333;
}
.battle-log .log-entry:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.battle-log .player-action { color: #81c784; } /* Green for player actions */
.battle-log .enemy-action { color: #ef5350; } /* Red for enemy actions */
.battle-log .info-message { color: #64b5f6; } /* Blue for info */
.battle-log .result-message { font-weight: bold; color: #ffeb3b; } /* Yellow for results */


.battle-result {
    text-align: center;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #555;
}

.battle-result p {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
}

.battle-result .victory { color: #4caf50; } /* Green */
.battle-result .defeat { color: #c62828; } /* Red */

#battle-close-btn {
    /* Uses .btn and .btn-brown */
}

/* --- Bottom Bar Styles --- */
#bottom-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 90px; /* Increased height for two rows */
    background-color: rgba(20, 20, 20, 0.9); /* Dark background */
    border-top: 1px solid #444;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 15px;
    box-sizing: border-box;
    z-index: 1002; /* Above map controls, below modals */
}

#player-info-bar {
    display: flex;
    align-items: center;
}

#player-portrait-img {
    width: 50px; /* Adjust size */
    height: 50px;
    border-radius: 5px; /* Slightly rounded corners */
    border: 2px solid #FFC107; /* Gold border like image */
    margin-right: 10px;
    object-fit: cover; /* Ensure image covers the area */
    background-color: #555; /* Placeholder background */
}

#player-stats-text {
    display: flex;
    flex-direction: column;
    color: #e0e0e0;
}

#player-stats-text span {
    font-size: 0.9em;
    line-height: 1.3;
}

#player-alias-bar {
    font-weight: bold;
    font-size: 1em;
}

#player-level-bar {
    color: #aaa;
}

#action-buttons-bar {
    display: flex;
    flex-wrap: wrap; /* Allow buttons to wrap to the next line */
    justify-content: flex-end; /* Align buttons to the right */
    align-items: center;
    gap: 10px; /* Reduced space between buttons */
    max-width: 150px; /* Limit width to encourage wrapping (adjust as needed based on number of buttons) */
}

.action-btn {
    background-color: #333;
    border: 2px solid #00bcd4; /* Cyan border like image */
    color: #e0e0e0;
    border-radius: 50%; /* Make it circular */
    width: 35px; /* Reduced size */
    height: 35px; /* Reduced size */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2em; /* Reduced icon size */
    cursor: pointer;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    padding: 0; /* Remove default padding */
    line-height: 1; /* Ensure icon is centered vertically */
}

.action-btn:hover {
    background-color: #444;
    border-color: #80deea; /* Lighter cyan on hover */
}

.action-btn:active {
    transform: scale(0.95);
}


/* Shootout Visual Style */
.shootout-visual {
    position: absolute; /* Position over the battle interface */
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2.5em;
    font-weight: bold;
    color: #ffeb3b; /* Yellow */
    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
    z-index: 10003; /* Above modal content */
    pointer-events: none; /* Don't block clicks */
    animation: shootout-fade 0.5s ease-out forwards;
}

@keyframes shootout-fade {
    0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -70%) scale(1.2); } /* Fade up and out */
}

/* Auto Attack Button Active State */
#battle-auto-attack-btn[data-active="true"] {
    background-color: #4caf50; /* Green when active */
    border-color: #388e3c;
}
#battle-auto-attack-btn[data-active="true"]:hover {
    background-color: #5cb860;
    border-color: #4caf50;
}

/* --- How to Play Modal Styles --- */
#how-to-play-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75); /* Dark overlay */
    z-index: 10001; /* Same level as other modals */
    display: flex; /* Use flexbox for centering */
    justify-content: center; /* Horizontal centering */
    align-items: center; /* Vertical centering */
    opacity: 1;
    transition: opacity 0.3s ease;
}

#how-to-play-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

#how-to-play-modal .modal-content {
    background-color: #2c2c2c; /* Dark background */
    padding: 25px;
    border-radius: 8px;
    border: 2px solid #777; /* Grey border */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    width: 90%;
    max-width: 650px; /* Adjust width as needed */
    max-height: 85vh;
    position: relative; /* Keep relative for close button */
    /* display: flex; /* REMOVED */
    /* flex-direction: column; /* REMOVED */
    /* margin: auto; /* REMOVED */
    /* position: absolute; /* REMOVED */
    /* top: 50%; /* REMOVED */
    /* left: 50%; /* REMOVED */
    /* transform: translate(-50%, -50%); /* REMOVED */
    /* Ensure flex properties for internal layout are still present if needed */
    display: flex;
    flex-direction: column;
}

#how-to-play-modal h2 {
    margin-top: 0;
    text-align: center;
    color: #f5f5f5;
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
    margin-bottom: 15px;
    flex-shrink: 0;
    font-family: 'Georgia', serif; /* Match other modal titles */
}

#how-to-play-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
    transition: color 0.2s ease;
}

#how-to-play-modal .close-btn:hover {
    color: #fff;
}

.how-to-play-content {
    overflow-y: auto; /* Allow scrolling if content is long */
    flex-grow: 1;
    line-height: 1.6;
    font-size: 0.95em;
    white-space: normal; /* Ensure text wraps normally */
    overflow-wrap: break-word; /* Allow long words to break */
    word-wrap: break-word; /* Older fallback for word-wrap */
}

.how-to-play-content ul {
    list-style: disc;
    padding-left: 25px;
    margin-top: 10px;
    margin-bottom: 15px;
}

.how-to-play-content li {
    margin-bottom: 8px;
}

.how-to-play-content strong {
    color: #ffeb3b; /* Yellow highlight for keywords */
}

.how-to-play-content .inline-icon {
    height: 1.2em; /* Adjust size */
    width: auto;
    vertical-align: middle; /* Align with text */
    margin: 0 2px;
    filter: invert(85%) brightness(1.1); /* Make icons visible on dark background */
}

/* --- Shop Modal Styles --- */
#shop-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75); /* Darker overlay */
    z-index: 10001; /* Same level as other modals */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#shop-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

#shop-modal .modal-content {
    background-color: #2c2c2c; /* Dark background */
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #6a1b9a; /* Purple border to match button */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    width: 90%;
    max-width: 800px; /* Wider modal for shop */
    max-height: 85vh;
    position: relative;
    display: flex;
    flex-direction: column;
}

#shop-modal h2 {
    margin-top: 0;
    text-align: center;
    color: #f5f5f5;
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
    margin-bottom: 15px;
    flex-shrink: 0;
}

#shop-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
    transition: color 0.2s ease;
}

#shop-modal .close-btn:hover {
    color: #fff;
}

.shop-interface {
    display: flex;
    gap: 20px; /* Space between buy and sell sections */
    flex-grow: 1; /* Allow sections to fill space */
    overflow: hidden; /* Prevent content overflow */
    margin-bottom: 15px;
}

.shop-section {
    flex-basis: 50%; /* Equal width for buy/sell */
    background-color: #3a3a3a; /* Slightly lighter background */
    border: 1px solid #444;
    border-radius: 5px;
    padding: 15px;
    display: flex;
    flex-direction: column;
    overflow-y: auto; /* Allow scrolling within sections */
}

.shop-section h3 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #ccc;
    border-bottom: 1px solid #555;
    padding-bottom: 5px;
    font-size: 1.1em;
    text-align: center;
}

#shop-buy-list,
#shop-sell-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-grow: 1; /* Allow list to take available space */
}

#shop-buy-list li,
#shop-sell-list li {
    padding: 6px 5px; /* Reduced vertical padding */
    border-bottom: 1px dotted #555;
    cursor: pointer;
    transition: background-color 0.2s ease;
    display: flex; /* Use flex for alignment */
    justify-content: space-between; /* Space out name and price/button */
    align-items: center;
    font-size: 0.9em; /* Slightly smaller font for list items */
}

#shop-buy-list li:last-child,
#shop-sell-list li:last-child {
    border-bottom: none;
}

#shop-buy-list li:hover,
#shop-sell-list li:hover {
    background-color: #4f4f4f; /* Darker highlight */
}

/* Style for item name and price/value */
.shop-item-name {
    flex-grow: 1; /* Allow name to take space */
    margin-right: 10px;
}
.shop-item-price,
.shop-item-value {
    font-weight: bold;
    min-width: 45px; /* Slightly reduce min-width */
    text-align: right;
    font-size: 0.95em; /* Slightly smaller price font */
}
.shop-item-price { color: #ffeb3b; } /* Yellow for buy price */
.shop-item-value { color: #81c784; } /* Green for sell value */

/* Style for Buy/Sell buttons inside list items */
.shop-buy-button,
.shop-sell-button {
    /* Use base .btn styles */
    padding: 3px 6px; /* Make buttons even smaller */
    font-size: 0.75em; /* Smaller button text */
    margin-left: 8px; /* Slightly reduce margin */
}

/* Specific colors for buy/sell buttons */
.shop-buy-button { /* Already green via .btn-green */ }
.shop-sell-button { /* Already orange via .btn-orange */ }


/* Placeholder text style */
#shop-buy-list li:only-child,
#shop-sell-list li:only-child {
    font-style: italic;
    color: #777;
    text-align: center;
    cursor: default;
    justify-content: center;
}
#shop-buy-list li:only-child:hover,
#shop-sell-list li:only-child:hover {
    background-color: transparent;
}

/* Shop message area */
.shop-message {
    margin-top: 10px;
    padding: 8px;
    background-color: #1a1a1a;
    border: 1px solid #444;
    border-radius: 4px;
    text-align: center;
    font-size: 0.9em;
    color: #ccc;
}
.shop-message.success { color: #81c784; border-color: #81c784; }
.shop-message.error { color: #ef5350; border-color: #ef5350; }

/* Style for the Visit Shop button in popups */
.leaflet-popup-content .visit-shop-button {
    /* Inherits .btn */
    /* Uses .btn-purple */
}

/* --- Shop Player Money Display --- */
.shop-player-money {
    position: absolute; /* Position relative to modal-content */
    top: 15px; /* Adjust as needed */
    left: 20px; /* Adjust as needed */
    font-size: 0.9em;
    color: #ffeb3b; /* Gold color for money */
    font-weight: bold;
    background-color: rgba(0, 0, 0, 0.5); /* Optional: slight background */
    padding: 3px 6px;
    border-radius: 3px;
    z-index: 1; /* Ensure it's above other content if needed, but below close button */
}


/* --- Shop Tabs --- */
.shop-tabs {
    display: flex;
    margin-bottom: 15px; /* Space below tabs */
    border-bottom: 1px solid #555; /* Separator line */
}

.shop-tabs .tab-btn {
    /* Inherit from general .tab-btn if defined, or style here */
    flex-grow: 1;
    padding: 10px 15px;
    background-color: #444;
    border: none;
    border-bottom: 3px solid transparent; /* For active indicator */
    color: #ccc;
    cursor: pointer;
    font-size: 1em;
    text-align: center;
    transition: background-color 0.2s ease, color 0.2s ease, border-bottom-color 0.2s ease;
    border-radius: 4px 4px 0 0; /* Rounded top corners */
    margin-bottom: -1px; /* Overlap the container border */
}

.shop-tabs .tab-btn:hover {
    background-color: #555;
    color: #fff;
}

.shop-tabs .tab-btn.active-tab {
    background-color: #3a3a3a; /* Slightly lighter active tab */
    color: #e0e0e0; /* White active text */
    border-bottom: 3px solid #6a1b9a; /* Purple underline to match modal border */
    font-weight: bold;
}

/* --- Shop Tab Content --- */
.shop-tab-content {
    display: none; /* Hide inactive tabs */
    /* Styles inherited from .shop-section */
}

.shop-tab-content.active-content {
    display: flex; /* Show active tab content (using flex from .shop-section) */
}

/* --- Item Tooltip --- */
.item-tooltip {
    position: fixed; /* Position relative to the viewport */
    background-color: rgba(10, 10, 10, 0.9); /* Very dark background */
    color: #e0e0e0;
    padding: 10px 15px;
    border-radius: 4px;
    border: 1px solid #777;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.5);
    font-size: 0.9em;
    line-height: 1.4;
    max-width: 250px;
    z-index: 10005; /* Ensure it's above modal content */
    pointer-events: none; /* Prevent tooltip from blocking mouse events */
    white-space: pre-wrap; /* Allow wrapping and preserve whitespace */
}

.item-tooltip strong {
    color: #ffeb3b; /* Yellow for emphasis */
}

/* --- Battle Simulation Image Styles --- */
.battle-image-container {
    display: flex; /* Use flexbox for centering */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    margin: 15px 0; /* Add space above and below */
    min-height: 160px; /* Increased min-height */
    background-color: rgba(0, 0, 0, 0.2); /* Optional: slight background */
    border-radius: 5px;
    padding: 10px; /* Increased padding */
    box-sizing: border-box;
}

#battle-simulation-image {
    display: block; /* Needed for centering within flex container */
    max-width: 90%; /* Allow slightly wider image */
    max-height: 180px; /* Allow slightly taller image */
    height: auto; /* Maintain aspect ratio */
    border: 1px solid #555; /* Optional border */
    border-radius: 4px;
    object-fit: contain; /* Ensure image fits without stretching */
}


/* --- New Inventory Modal Grid Styles --- */

/* Override general modal padding for inventory to allow edge-to-edge grid */
#inventory-modal .inventory-modal-content {
    background-color: #1e1e1e; /* Darker background for the main content area */
    border: 3px solid #4a3c2a; /* Dark brownish border */
    padding: 10px; /* Reduced padding */
    /* Consider adding a background image for the ornate border if available */
    /* background-image: url('img/inventory_border.png'); */
    /* background-size: 100% 100%; */
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5); /* Inner shadow */
}

#inventory-modal .inventory-title {
    background-color: #3a2f20; /* Dark gold/brownish title bar */
    color: #e0cda1; /* Light gold text */
    padding: 5px 15px;
    margin: -10px -10px 15px -10px; /* Extend to edges, override padding */
    text-align: center;
    font-family: 'Georgia', serif; /* Ornate font */
    font-size: 1.2em;
    border-bottom: 2px solid #5a4a3a;
    border-top: 2px solid #5a4a3a;
    position: relative; /* For potential pseudo-elements */
}

/* Style the close button to fit the theme */
#inventory-modal .close-btn {
    top: 12px; /* Adjust position */
    right: 12px;
    color: #e0cda1; /* Match title text */
    font-size: 20px;
    background-color: rgba(40, 30, 20, 0.8); /* Dark background */
    border-radius: 50%;
    width: 25px;
    height: 25px;
    line-height: 25px; /* Center the 'x' */
    text-align: center;
}
#inventory-modal .close-btn:hover {
    color: #fff;
    background-color: rgba(60, 40, 30, 1);
}


.inventory-grid {
    display: grid;
    /* Adjust columns based on the image (looks like 8 columns) */
    grid-template-columns: repeat(8, 1fr);
    gap: 8px; /* Space between slots */
    padding: 10px; /* Padding around the grid */
    background-color: rgba(0, 0, 0, 0.3); /* Slightly darker background for the grid area */
    border-radius: 5px;
    overflow-y: auto; /* Allow grid to scroll if needed */
    max-height: 65vh; /* Limit grid height */
}

.inventory-slot {
    background-color: #2f2a24; /* Dark slot background */
    border: 1px solid #5a4a3a; /* Border matching title bar */
    border-radius: 3px;
    aspect-ratio: 1 / 1; /* Make slots square */
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    position: relative; /* For potential item count display */
    transition: background-color 0.2s ease, border-color 0.2s ease;
    overflow: hidden; /* Hide parts of item image if needed */
}

.inventory-slot:hover {
    background-color: #40352a;
    border-color: #7a6a5a;
}

/* Style for item image within a slot */
.inventory-slot img {
    max-width: 80%;
    max-height: 80%;
    object-fit: contain; /* Ensure image fits without distortion */
    display: block; /* Remove extra space below image */
}

/* Style for item count (optional) */
.inventory-slot .item-count {
    position: absolute;
    bottom: 2px;
    right: 4px;
    font-size: 0.8em;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.6);
    padding: 1px 3px;
    border-radius: 2px;
    font-weight: bold;
}

/* Style for empty slot placeholder */
.inventory-slot.empty {
    /* Maybe add a subtle pattern or icon */
    background-color: #25201a; /* Slightly different empty background */
}

/* --- Inventory Tabs --- */
.inventory-tabs {
    display: flex;
    margin-bottom: 10px; /* Space between tabs and grid */
    border-bottom: 2px solid #4a3c2a; /* Match modal border */
}

.inventory-tabs .tab-btn {
    /* Inherit from general .tab-btn if defined, or style here */
    flex-grow: 1;
    padding: 8px 10px;
    background-color: #444;
    border: none;
    border-bottom: 3px solid transparent;
    color: #ccc;
    cursor: pointer;
    font-size: 0.9em;
    text-align: center;
    transition: background-color 0.2s ease, color 0.2s ease, border-bottom-color 0.2s ease;
    border-radius: 4px 4px 0 0;
    margin-bottom: -2px; /* Overlap the container border */
}

.inventory-tabs .tab-btn:hover {
    background-color: #555;
    color: #fff;
}

.inventory-tabs .tab-btn.active-tab {
    background-color: #3a2f20; /* Match title bar */
    color: #e0cda1; /* Match title text */
    border-bottom: 3px solid #e0cda1; /* Highlight active tab */
    font-weight: bold;
}


/* --- Battle Speed Controls --- */
.battle-speed-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px; /* Space below controls */
    padding: 5px;
    background-color: rgba(255, 255, 255, 0.05); /* Subtle background */
    border-radius: 4px;
}

.battle-speed-controls span {
    font-size: 0.9em;
    color: #ccc;
    margin-right: 5px;
}

.battle-speed-btn {
    /* Inherits .btn */
    padding: 4px 8px; /* Smaller padding */
    font-size: 0.8em;
    min-width: 40px; /* Ensure minimum width */
}

/* Active state for speed buttons */
.battle-speed-btn.btn-active {
    background-color: #1e88e5; /* Blue to indicate active */
    border-color: #1565c0;
    color: #fff;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
}

/* --- Leaderboard Modal Styles --- */
#leaderboard-modal {
    /* Inherits general modal styles */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75); /* Dark overlay */
    z-index: 10001; /* Same level as other modals */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#leaderboard-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

#leaderboard-modal .modal-content {
    background-color: #2c2c2c; /* Dark background */
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #ffeb3b; /* Gold border for leaderboard */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    width: 90%;
    max-width: 500px; /* Adjust width as needed */
    max-height: 85vh;
    position: relative;
    display: flex;
    flex-direction: column;
}

#leaderboard-modal h2 {
    margin-top: 0;
    text-align: center;
    color: #ffeb3b; /* Gold title */
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
    margin-bottom: 15px;
    flex-shrink: 0;
    font-family: 'Georgia', serif;
}

#leaderboard-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
    transition: color 0.2s ease;
}

#leaderboard-modal .close-btn:hover {
    color: #fff;
}

.leaderboard-tabs {
    display: flex;
    margin-bottom: 15px;
    border-bottom: 1px solid #555;
}

.tab-btn {
    /* Inherits .btn styles potentially, but let's define specifically */
    flex-grow: 1;
    padding: 10px 15px;
    background-color: #444;
    border: none;
    border-bottom: 3px solid transparent; /* For active indicator */
    color: #ccc;
    cursor: pointer;
    font-size: 1em;
    text-align: center;
    transition: background-color 0.2s ease, color 0.2s ease, border-bottom-color 0.2s ease;
    border-radius: 4px 4px 0 0; /* Rounded top corners */
    margin-bottom: -1px; /* Overlap the container border */
}

.tab-btn:hover {
    background-color: #555;
    color: #fff;
}

.tab-btn.active-tab {
    background-color: #3a3a3a; /* Slightly lighter active tab */
    color: #ffeb3b; /* Gold active text */
    border-bottom: 3px solid #ffeb3b; /* Gold underline */
    font-weight: bold;
}

.leaderboard-content {
    display: none; /* Hide content by default */
    background-color: #3a3a3a; /* Match active tab background */
    padding: 15px;
    border-radius: 0 0 5px 5px; /* Rounded bottom corners */
    overflow-y: auto; /* Allow scrolling */
    flex-grow: 1; /* Take remaining space */
    max-height: 60vh; /* Limit height */
}

.leaderboard-content.active-content {
    display: block; /* Show active content */
}

#leaderboard-money-list,
#leaderboard-power-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

#leaderboard-money-list li,
#leaderboard-power-list li {
    padding: 8px 5px;
    border-bottom: 1px dotted #555;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.95em;
}

#leaderboard-money-list li:last-child,
#leaderboard-power-list li:last-child {
    border-bottom: none;
}

#leaderboard-money-list .player-name,
#leaderboard-power-list .player-name {
    font-weight: 500;
    color: #e0e0e0;
}

#leaderboard-money-list .player-score,
#leaderboard-power-list .player-score {
    font-weight: bold;
    color: #81c784; /* Green for scores/money */
}

/* Loading state */
#leaderboard-money-list li:only-child,
#leaderboard-power-list li:only-child {
    font-style: italic;
    color: #888;
    text-align: center;
    justify-content: center;
}


/* --- Housing Modal Styles --- */
#housing-modal {
    /* Inherits general modal styles */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75); /* Dark overlay */
    z-index: 10001; /* Same level as other modals */
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 1;
    transition: opacity 0.3s ease;
}

#housing-modal.modal-hidden {
    opacity: 0;
    pointer-events: none;
}

#housing-modal .modal-content {
    background-color: #2c2c2c; /* Dark background */
    padding: 20px;
    border-radius: 8px;
    border: 2px solid #a0522d; /* Sienna border for housing */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
    color: #e0e0e0;
    width: 90%;
    max-width: 700px; /* Adjust width as needed */
    max-height: 85vh;
    position: relative;
    display: flex;
    flex-direction: column;
}

#housing-modal h2 {
    margin-top: 0;
    text-align: center;
    color: #deb887; /* BurlyWood title */
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
    margin-bottom: 15px;
    flex-shrink: 0;
    font-family: 'Georgia', serif;
}

#housing-modal .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 24px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
    transition: color 0.2s ease;
}

#housing-modal .close-btn:hover {
    color: #fff;
}

.housing-interface {
    display: flex;
    gap: 20px;
    flex-grow: 1;
    overflow: hidden; /* Prevent content overflow */
}

.housing-preview-area {
    flex-basis: 65%; /* Preview takes more space */
    background-color: #1a1a1a; /* Dark background for preview */
    border: 1px solid #444;
    border-radius: 5px;
    position: relative; /* Needed for absolute positioning of layers */
    overflow: hidden; /* Clip overflowing images */
    min-height: 300px; /* Ensure some height */
}

.housing-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Cover the area, might crop */
    /* object-fit: contain; /* Alternative: Fit within, might leave gaps */
    pointer-events: none; /* Layers shouldn't block clicks */
}

/* Define z-index for layering order */
#housing-layer-base { z-index: 1; }
#housing-layer-wall { z-index: 2; }
#housing-layer-weapon { z-index: 3; }
#housing-layer-furniture { z-index: 4; }
#housing-layer-security { z-index: 5; }

.housing-slots {
    flex-basis: 35%; /* Slots take less space */
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.housing-slot-btn {
    /* Inherit from .btn */
    padding: 10px 15px;
    background-color: #5d4037; /* Brown */
    border-color: #4e342e;
    color: #e0e0e0;
    text-align: center;
    width: 100%; /* Full width within its container */
}

.housing-slot-btn:hover {
    background-color: #6d4c41;
    border-color: #5d4037;
}

/* Item Selector Styles */
.housing-item-selector {
    position: absolute; /* Position over the main modal content */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    max-width: 400px;
    background-color: rgba(40, 40, 40, 0.98); /* Dark, slightly transparent */
    border: 1px solid #777;
    border-radius: 5px;
    padding: 15px;
    z-index: 10002; /* Above the main housing modal content */
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    transition: opacity 0.2s ease, transform 0.2s ease;
}

.housing-item-selector.modal-hidden {
    opacity: 0;
    pointer-events: none;
    transform: translate(-50%, -50%) scale(0.95);
}

.housing-item-selector h3 {
    margin-top: 0;
    margin-bottom: 10px;
    text-align: center;
    color: #ccc;
    font-size: 1.1em;
}

#housing-selector-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); /* Responsive grid */
    gap: 8px;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    max-height: 40vh; /* Limit height and allow scrolling */
    overflow-y: auto;
    margin-bottom: 15px;
}

/* Style for items within the selector grid (can reuse inventory slot styles if desired) */
#housing-selector-grid .selector-item {
    background-color: #2f2a24;
    border: 1px solid #5a4a3a;
    border-radius: 3px;
    aspect-ratio: 1 / 1;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    position: relative;
    overflow: hidden;
}
#housing-selector-grid .selector-item:hover {
    background-color: #40352a;
    border-color: #7a6a5a;
}
#housing-selector-grid .selector-item img {
    max-width: 80%;
    max-height: 80%;
    object-fit: contain;
}
#housing-selector-grid .selector-item span { /* For item name if no image */
    font-size: 0.7em;
    text-align: center;
    color: #ccc;
    padding: 2px;
}


#close-housing-selector-btn {
    /* Inherit from .btn .btn-grey */
    align-self: center; /* Center the cancel button */
}


/* --- Responsive Design (e.g., for 414px width) --- */
@media (max-width: 767px) { /* Apply styles below tablet width */
    #mobile-container {
        width: 100%; /* Full width on smaller screens */
        max-width: 100%;
        height: 100vh; /* Full viewport height */
        margin: 0; /* Remove margins */
        border: none; /* Remove border */
        box-shadow: none; /* Remove shadow */
        border-radius: 0; /* Remove border-radius */
    }

    #dashboard {
        min-width: 160px; /* Slightly narrower dashboard */
        padding: 10px;
        font-size: 0.9em; /* Slightly smaller font */
    }

    #dashboard h2 {
        font-size: 1.1em;
        margin-bottom: 10px;
        padding-bottom: 5px;
    }

    .dashboard-section {
        margin-bottom: 8px;
    }

    .hp-bar-container {
        width: 80px; /* Narrower HP bar */
        height: 10px;
    }

    #bottom-bar {
        height: auto; /* Allow height to adjust */
        padding: 5px 10px; /* Reduce padding */
        flex-direction: column; /* Stack elements vertically */
        align-items: stretch; /* Stretch items */
    }

    #player-info-bar {
        margin-bottom: 5px; /* Space below player info */
        justify-content: center; /* Center player info */
    }

    #action-buttons-bar {
        justify-content: space-around; /* Space out buttons evenly */
        max-width: 100%; /* Allow full width */
        flex-wrap: wrap; /* Ensure wrapping */
        gap: 5px; /* Reduce gap */
    }

    .action-btn {
        width: 32px; /* Slightly smaller buttons */
        height: 32px;
        font-size: 1.1em;
    }

    /* Adjust Modals */
    .modal-content {
        width: 95% !important; /* Force width */
        max-width: 95% !important;
        padding: 15px !important; /* Reduce padding */
        max-height: 90vh !important; /* Ensure it fits */
    }

    .modal-content h2 {
        font-size: 1.2em !important;
        margin-bottom: 15px !important;
    }

    .stats-modal-content {
        grid-template-columns: 1fr; /* Stack stat sections */
        gap: 15px;
    }

    .equipment-slots {
        grid-template-columns: repeat(2, 1fr); /* 2 columns for equipment */
        gap: 10px;
    }

    .inventory-grid {
        grid-template-columns: repeat(4, 1fr); /* 4 columns for inventory */
        gap: 5px;
        padding: 5px;
    }

    .shop-interface {
        flex-direction: column; /* Stack buy/sell */
        gap: 10px;
    }

    .shop-section {
        flex-basis: auto; /* Reset basis */
        max-height: 35vh; /* Limit height of each section */
    }

    .battle-interface {
        flex-direction: column; /* Stack player/enemy */
        align-items: center;
        gap: 10px;
        padding-bottom: 10px;
        margin-bottom: 10px;
    }

    .battle-participant {
        flex-basis: auto;
        width: 80%; /* Control width */
    }

    .battle-vs {
        padding: 5px 0;
    }

    .battle-actions {
        gap: 10px;
        flex-wrap: wrap; /* Allow actions to wrap */
    }

    .battle-log {
        height: 100px; /* Reduce log height */
    }

    .leaderboard-tabs {
        margin-bottom: 10px;
    }

    .tab-btn {
        padding: 8px 10px;
        font-size: 0.9em;
    }

    .leaderboard-content {
        padding: 10px;
        max-height: 50vh;
    }

    #leaderboard-money-list li,
    #leaderboard-power-list li {
        font-size: 0.9em;
        padding: 6px 3px;
    }

    #custom-alert {
        padding: 20px;
        min-width: 200px;
    }

    #custom-alert p {
        font-size: 1em;
    }

    #custom-alert button {
        padding: 8px 16px;
        font-size: 0.9em;
    }

}

/* Further adjustments specifically for 414px if needed */
@media (max-width: 414px) {
    /* Example: Further reduce font size if needed */
    body {
        font-size: 15px; /* Adjust base font size */
    }

    .action-btn {
        width: 30px;
        height: 30px;
        font-size: 1em;
    }

    #bottom-bar {
        padding: 5px;
    }

    /* Add any other 414px specific overrides here */
}

/* --- Rarity Glow Effects --- */
/* Applied to .inventory-slot, .slot-item, .selector-item etc. by JS */
.rarity-glow-common { box-shadow: 0 0 6px 1px #B0B0B0; }
.rarity-glow-uncommon { box-shadow: 0 0 6px 1px #4CAF50; }
.rarity-glow-rare { box-shadow: 0 0 6px 1px #2196F3; }
.rarity-glow-epic { box-shadow: 0 0 7px 2px #9C27B0; }
.rarity-glow-legendary { box-shadow: 0 0 8px 2px #FFC107; }
.rarity-glow-mythic { box-shadow: 0 0 9px 3px #F44336; }
.rarity-glow-god-tier {
    box-shadow: 0 0 10px 3px #FFFFFF, 0 0 15px 5px #FFD700; /* White inner glow, gold outer */
    border-color: #FFD700 !important; /* Override border for god-tier */
}

/* --- Login Page Styles --- */
.login-container {
    /* background-color: #2a2a2a; */ /* Replaced with gradient */
    /* Add background image, dark overlay, noise texture */
    background:
        linear-gradient(rgba(10, 10, 10, 0.92), rgba(10, 10, 10, 0.92)), /* Darker overlay */
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23333333' fill-opacity='0.1' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E"), /* Subtle noise pattern */
        url('img/load.jpg'); /* Background image */
    background-size: cover; /* Cover the container */
    background-position: center center; /* Center the image */
    padding: 40px;
    border-radius: 4px; /* Match modal radius */
    border: 1px solid #8B4513; /* Match modal border */
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.6); /* Match modal shadow */
    /* Mobile constraints for desktop view */
    width: 414px; /* Match mobile-container */
    max-width: calc(100% - 40px);
    margin: 20px auto; /* Center horizontally */
    box-sizing: border-box; /* Include padding in width calculation */
}
.login-container h1 {
    margin-bottom: 30px;
    /* color: #fff; */ /* Replaced with theme color */
    color: #E0CDA1; /* Match modal header color */
    font-family: 'Georgia', serif; /* Match modal header font */
    font-size: 1.6em; /* Slightly larger title */
    letter-spacing: 1px;
    border-bottom: 1px solid #8B4513; /* Add underline */
    padding-bottom: 15px;
}
/* Apply base button styles and theme color (dark brown) */
#connect-wallet-btn {
    /* Inherit from .btn */
    display: inline-block;
    padding: 12px 25px; /* Keep specific padding */
    border: 1px solid #3e2723; /* Darker brown border (like alert button) */
    border-radius: 4px;
    background-color: #5a3e36; /* Dark brown background (like alert button) */
    color: #e0e0e0; /* Light text */
    font-family: 'Georgia', serif; /* Match title font */
    font-size: 1.1em; /* Keep specific font size */
    font-weight: bold; /* Make button text bolder */
    text-align: center;
    cursor: pointer;
    text-decoration: none;
    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
    width: auto;
    margin: 2px;
}
#connect-wallet-btn:hover {
    border-color: #4e342e; /* Slightly lighter brown border on hover */
    background-color: #6d4c41; /* Slightly lighter brown background on hover */
    filter: brightness(1.1);
}
#connect-wallet-btn:active {
    transform: scale(0.98);
    filter: brightness(0.9);
}

#wallet-info {
    margin-top: 25px; /* Increased spacing */
    font-size: 0.9em;
    color: #aaa;
    word-break: break-all; /* Ensure long addresses wrap */
}
 #error-message {
    margin-top: 15px;
    color: #ff4d4d; /* Bright red for errors */
    font-weight: bold;
    min-height: 1.2em; /* Reserve space even when empty */
}

/* Custom Item Tooltip (for Inventory/Equipment) */
.item-tooltip {
    position: fixed; /* Position relative to the viewport */
    display: none; /* Hidden by default */
    background-color: rgba(10, 10, 10, 0.95); /* Very dark, slightly transparent */
    color: #e0e0e0; /* Light text */
    padding: 10px 15px;
    border-radius: 4px;
    border: 1px solid #8B4513; /* Match other UI borders */
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.6); /* Subtle shadow */
    font-size: 0.9em;
    line-height: 1.4;
    max-width: 280px; /* Limit width */
    z-index: 10005; /* Ensure it's above modal content */
    pointer-events: none; /* Prevent tooltip from blocking mouse events */
    white-space: pre-wrap; /* Allow wrapping and preserve newlines from JS */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Consistent font */
}

/* Optional: Style specific elements inside the tooltip if needed */
.item-tooltip strong {
    color: #ffeb3b; /* Yellow highlight for keywords like stats */
}

.item-tooltip .rarity-common { color: #B0B0B0; }
.item-tooltip .rarity-uncommon { color: #4CAF50; }
.item-tooltip .rarity-rare { color: #2196F3; }
.item-tooltip .rarity-epic { color: #9C27B0; }
.item-tooltip .rarity-legendary { color: #FFC107; }
.item-tooltip .rarity-mythic { color: #F44336; }
.item-tooltip .rarity-god-tier { color: #FFFFFF; text-shadow: 0 0 5px #FFD700; } /* White with gold shadow */

/* NFT Title Glow Effect for Player Marker */
.player-marker.nft-glow-effect .player-sprite {
    /* Apply a blue glow using filter for broader compatibility */
    filter: drop-shadow(0 0 4px rgba(0, 150, 255, 0.8)) drop-shadow(0 0 8px rgba(0, 150, 255, 0.6));
    /* Optional: Add a subtle border or outline */
    /* outline: 1px solid rgba(0, 150, 255, 0.5); */
}
